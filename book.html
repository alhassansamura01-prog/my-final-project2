<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Booking Information</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <nav class="navbar">
        <div class="logo">
          <img
            src="rental-property-removebg-preview.png"
            alt="home rental service logo"
          />
          <span>HOME RENTAL SERVICE <br />"Find it. Rent it. Live it."</span>
        </div>
        <ul class="nav-links">
          <li><a href="index.html">home</a></li>
          <li><a href="about.html">about Us</a></li>
          <li><a href="contact.html">contact Us</a></li>
          <li><a href="explore.html">explore</a></li>
          <li><a href="review.html">review</a></li>
        </ul>
        <div class="nav-buttons">
          <a href="login.html" class="login">login</a>
          <a href="signup.html" class="signup">Sign Up</a>
        </div>
      </nav>
    </header>
    <!-- <div class="co">
      <h1>Booking</h1>
      <form
        action="https://formspree.io/f/mvgvewwn"
        method="post"
        class="forms" >
        
        <label>Full Name:</label>
        <input type="text" name="Fullname" required /> <br />

        <label>Email or Phone:</label>
        <input type="text" name="email/phone" required /> <br />

        <label>Phone Number:</label>
        <input type="tele" name="Phone number" required /> <br />

        <label>Expected Date To View The House/Place:</label>
        <input
          type="date"
          name="Expected date to view the house/place"
          required
        />
        <br />
        <label>Booking Code</label>
        <input type="hidden" id="booking-code" name="Booking_Code" readonly />
        <label> House Booked</label>
        <input type="hidden" id="house" name="house" readonly> -->

    <!-- <label>House Reference Number</label>
        <input type="text" name="house number" required /> <br /> -->

    <!-- <button type="submit">Submit Booking</button>
      </form>
    </div> -->
    <!-- Generate Random booking code -->

    <!-- Booking Form -->
    <form
      action="https://formspree.io/f/mvgvewwn"
      method="POST"
      class="booking-form"
    >
      <h2>Rent This House</h2>

      <!-- Visible User Fields -->
      <label for="fullname">Full Name:</label>
      <input type="text" id="fullname" name="fullname" required />

      <label for="email">Email/Phone Number:</label>
      <input type="text" id="email" name="email" required />

      <label for="phone">Phone Number:</label>
      <input type="tel" id="phone" name="phone" required />

      <label for="date">Expected Date to View The Place/House:</label>
      <input type="date" id="date" name="Viewing Date" required />

      <!-- Hidden Fields -->
      <input type="hidden" id="house" name="house" />
      <input type="hidden" id="booking-code" name="booking_code" />

      <!-- Optional booking code display -->
      <p id="booking-code-display" class="booking-code-display"></p>

      <!-- Submit -->
      <button type="submit">Rent Now</button>
    </form>

    <!-- ↓ Add the script below this form -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // 1️⃣ Retrieve the selected house name (from localStorage)
        const houseField = document.getElementById("house");
        const storedHouseName = localStorage.getItem("selectedHouse");
        if (houseField) {
          houseField.value = storedHouseName || "Unknown House";
        }

        // 2️⃣ Generate unique booking code
        const bookingInput = document.getElementById("booking-code");
        const bookingDisplay = document.getElementById("booking-code-display");
        if (bookingInput) {
          const now = new Date();
          const datePart = now.toISOString().slice(0, 10).replace(/-/g, "");
          const randomPart = Math.floor(1000 + Math.random() * 9000);
          const bookingCode = `HRS-${datePart}-${randomPart}`;
          bookingInput.value = bookingCode;

          if (bookingDisplay) {
            bookingDisplay.textContent = `Your Booking Code: ${bookingCode}`;
          }
        }
      });
    </script>
  </body>
</html>
